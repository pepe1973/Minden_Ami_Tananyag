<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <base target="_blank" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"
        />
        <link rel="stylesheet" href="../stilus/stilus.css" />
        <link
            rel="shortcut icon"
            href="../images/logo.png"
            type="image/x-icon"
        />
        <title>Git és GitHub műveletek állományokkal</title>
    </head>
    <body>
        <a href="#tarto" target="_self">
            <span class="material-symbols-outlined"> arrow_circle_up </span>
        </a>
        <div id="tarto">
            <h1>
                <a href="./index.html" target="_self"
                    >Git és GitHub - Műveletek állományokkal
                </a>
            </h1>
            <ol>
                <h4>Műveletek:</h4>
                <li>
                    Mindenegyes állomány az adott, adattárat tartalmazó mappában
                    kétféle állapotban lehet követett (<span class="kiemel"
                        >tracked</span
                    >), vagy nem követett (<span class="kiemel">untracked</span
                    >).
                </li>
                <li>
                    <span class="kiemel">Követett állomány (tracked file)</span
                    >: szerepelt az előző véglegesítésben (<span class="kiemel"
                        >commit</span
                    >), vagy már bekerült a "színpadra" (<span class="kiemel"
                        >staging area</span
                    >). Minden olyan állomány, amelyről a Git tud. Lehetnek
                    módosítottak (<span class="kiemel">modified</span>),
                    módosítatlanok (<span class="kiemel">unmodified</span>) vagy
                    színpadra rakottak (<span class="kiemel">staged</span>).
                </li>
                <li>
                    <span class="kiemel"
                        >Nem követett állomány (untracked file)</span
                    >: minden egyéb állomány a mappában.
                </li>
                <li>
                    A másolatokban (<span class="kiemel">checkout</span>) lévő
                    állományok követettek és módosítatlanok. Majd a szerkesztés
                    után módosítottakká válnak.
                </li>
                <img src="./images/kep_20.png" />
                <li>
                    Annak eldöntésére, hogy mely állományok mely állapotban
                    vannak a következő utasítást használjuk:
                    <p><span class="kod">git status</span></p>
                </li>
                <img src="./images/kep_21.png" />
                <li>
                    Adjunk a mappához egy
                    <span class="kiemel">szoveg.txt</span> állományt, majd ismét
                    nézzük meg az állapotot:
                </li>
                <img src="./images/kep_22.png" />
                <li>
                    A <span class="kiemel">szoveg.txt</span> állományt már látja
                    a Git, de még nem követi. Ehhez színpadra kell rakni a
                    következő utasítással:
                    <p><span class="kod">git add szoveg.txt</span></p>
                </li>
                <img src="./images/kep_23.png" />
                <li>
                    Ha valami miatt szeretnénk kivenni az állományt a
                    <span class="kiemel">staging area</span>-ból, akkor a
                    következő utasítást kell használnunk:
                    <p><span class="kod">git rm --cached szoveg.txt</span></p>
                </li>
                <img src="./images/kep_24.png" />
                <li>
                    Rakjuk vissza és módosítsuk a
                    <span class="kiemel">szoveg.txt</span> állományt, majd
                    nézzük meg mi történik.
                </li>
                <img src="./images/kep_25.png" />
                <li>
                    Látható, hogy létezik egy
                    <span class="kiemel">szoveg.txt</span> állomány a
                    "színpadon" és van módosított, "színpadon" kívüli
                    <span class="kiemel">szoveg.txt</span> állomány. Ha most
                    véglegesítenénk, akkor az eredeti
                    <span class="kiemel">szoveg.txt</span> állomány bekerülne az
                    adattárba, míg a módosított várna arra, hogy valami
                    történjen.
                </li>
                <li>
                    Rövidítve is lekérdezhetjük az állapotot. Ekkor csak
                    betűjelöléssel kapunk információt. Első oszlop (<span
                        class="kiemel"
                        >staging area</span
                    >), második oszlop (<span class="kiemel">working tree</span
                    >)
                    <p>
                        <span class="kod">git status -s</span>, vagy
                        <span class="kod">git status --short</span>
                    </p>
                    <ul>
                        <li>
                            <span style="color: green">A</span> - színpadra
                            rakott (staged)
                        </li>
                        <li>
                            <span style="color: red">M</span> - módosított
                            (modified)
                        </li>
                        <li>
                            <span style="color: red">??</span> - nem követett
                            (untracked)
                        </li>
                    </ul>
                </li>
                <li>
                    Adjunk hozzá egy
                    <span class="kiemel">masik.txt</span> állományt is.
                </li>
                <img src="./images/kep_26.png" />
                <li>
                    Két dolgot tehetünk a módosított állománnyal:
                    <ul>
                        <li>
                            A módosítással "színpadra" rakjuk.
                            <p>
                                <span class="kod">git add szoveg.txt</span>
                            </p>
                        </li>
                        <li>
                            Eldobjuk a módosított állományt, és az eredetit
                            őrizzük meg a színpadon:
                            <p>
                                <span class="kod">git restore szoveg.txt</span>
                            </p>
                        </li>
                    </ul>
                </li>
                <li>
                    Módosítsuk a <span class="kiemel">masik.txt</span> állományt
                    és rakjuk a "színpadra". Adjuk ki a következő utasításokat:
                    <p>
                        <span class="kod">git diff</span> - a
                        <span class="kiemel">working tree</span>-ben történt
                        változtatások,
                    </p>
                    <p>
                        <span class="kod">git diff --staged</span> - a
                        <span class="kiemel">staging area</span>-ban történt
                        változtatások, vagy
                    </p>
                    <p>
                        <span class="kod">git diff --cached</span> - a
                        <span class="kiemel">staging area</span>-ban történt
                        változtatások. Az utóbbi kettő ugyanazt csinálja.
                    </p>
                </li>
                <img src="./images/kep_28.png" />
                <li>
                    Grafikus felületen is megnézhetjük a változásokat. Ehhez meg
                    kell nézni a feltelepített eszközök listáját:
                    <p>
                        <span class="kod">git difftool --tool-help</span>
                    </p>
                    Majd a kiválasztott eszközt használom:
                    <p>
                        <span class="kod">git difftool --tool=vimdiff</span>
                    </p>
                    Kilépés <span class="kod">esc</span> majd
                    <span class="kod">:q!</span> begépelése és
                    <span class="kod">enter</span>.
                </li>
                <img src="./images/kep_29.png" />
                <img src="./images/kep_30.png" />
                <li>
                    <span class="kiemel">.gitignore</span>: ebben az állományban
                    rögzítjük azokat a mappákat és állományokat, amelyeket nem
                    akarunk követni. Egyfajta reguláris kifejezésekkel (<a
                        href="https://www.malikbrowne.com/blog/a-beginners-guide-glob-patterns/"
                        class="link"
                        >glob patterns</a
                    >) záratjuk ki az elemeket.
                </li>
                <img src="./images/kep_27.png" />
                <li>
                    Ha úgy érezzük, hogy minden készen áll a véglegesítésre,
                    akkor adjuk ki a következő parancsot:
                    <p>
                        <span class="kod">git commit</span>
                    </p>
                    A következőt kapjuk:
                </li>
                <img src="./images/kep_31.png" />
                <li>
                    És megnyílik a beállított szövegszerkesztő, jelen esetben a
                    Visual Studio Code. Az első sorba írhatjuk a véglegesítés
                    (<span class="kiemel">commit</span>) szövegét.
                </li>
                <img src="./images/kep_32.png" />
                <li>Az ablak bezárása után kapjuk a következőt.</li>
                <img src="./images/kep_33.png" />
                <li>
                    A <span class="kod">git commit -v</span> utasítás eredménye
                    megegyezik <span class="kod">git status</span> utasításéval.
                </li>
                <img src="./images/kep_34.png" />
                <li>
                    A <span class="kod">git add *</span> utasítással a
                    <span class="kiemel">.gitignore</span> állomány kivételével
                    mindent a "színpadra teszek". Majd kiadom a következő
                    utasítást:
                    <p>
                        <span class="kod">git commit -m "Második kommit"</span>
                    </p>
                </li>
                <img src="./images/kep_35.png" />
                <li>
                    A <span class="kiemel">.gitignore</span> hozzáadását külön
                    ki kell írni:
                    <p>
                        <span class="kod">git add .gitignore</span>
                    </p>
                </li>
                <li>
                    A véglegesítések után kapott számok az ellenőrző összeg
                    (<span class="kiemel">checksum</span>) első 7 karaktere:
                    <span class="kod">[master 799e7f5]</span>
                </li>
                <li>
                    Nyomon követett állományok esetében, ha módosítunk rajtuk
                    valamit, akkor kihagyhatjuk a "színpadra rakást" és azonnal
                    véglegesíthetünk a <span class="kiemel">-a</span> jelölővel.
                    <p>
                        <span class="kod"
                            >git commit -a -m "Negyedik kommit"</span
                        >, vagy
                    </p>
                    <p>
                        <span class="kod">git commit -a "Negyedik kommit"</span>
                    </p>
                </li>
                <img src="./images/kep_36.png" />
                <li>
                    Ha az állományok eltávolítására a
                    <p><span class="kod">rm [állománynév]</span></p>
                    használjuk a követetlen állományok közül akkor a következőt
                    kapjuk.
                </li>
                <img src="./images/kep_37.png" />
                <li>
                    Viszont ha már "színpadra" raktuk és utána töröljük, akkor a
                    következő történik.
                </li>
                <img src="./images/kep_38.png" />
                <li>
                    Bár fizikálisan törlődik a mappából, a Git még emlékezik rá,
                    és két lehetőséget kínál:
                    <ul>
                        <li>
                            Törölni az állományt véglegesen:
                            <p><span class="kod">git rm [állománynév]</span></p>
                        </li>
                        <li>
                            Visszaállítani az állományt:
                            <p>
                                <span class="kod"
                                    >git restore [állománynév]</span
                                >
                            </p>
                        </li>
                    </ul>
                </li>
                <img src="./images/kep_40.png" />
                <img src="./images/kep_39.png" />
                <li>
                    Ha a "színpadon" lévő állományt a következő utasítással
                    töröljük
                    <p>
                        <span class="kod">git rm --cached [állománynév]</span>,
                    </p>
                    akkor egyszerűen visszarakja a követetlen állományok közé.
                </li>
                <img src="./images/kep_41.png" />
                <li>Hasonló igaz a már véglegesített állományokra is.</li>
                <li>
                    Állományok átnevezésére a következő utasítás használható:
                    <p><span class="kod">git mv filenevrol filenevre</span></p>
                </li>
                <img src="./images/kep_42.png" />
                <h4>Források:</h4>
                <p>
                    <a href="https://git-scm.com/"
                        ><span class="link">git</span></a
                    >
                </p>
                <p>
                    <a href="https://github.com/"
                        ><span class="link">github</span></a
                    >
                </p>
            </ol>
        </div>
    </body>
</html>
