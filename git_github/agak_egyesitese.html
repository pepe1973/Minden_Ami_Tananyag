<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <base target="_blank" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"
        />
        <link rel="stylesheet" href="../stilus/stilus.css" />
        <link
            rel="shortcut icon"
            href="../images/logo.png"
            type="image/x-icon"
        />
        <title>Git és GitHub ágak egyesítése</title>
    </head>
    <body>
        <a href="#tarto" target="_self">
            <span class="material-symbols-outlined"> arrow_circle_up </span>
        </a>
        <div id="tarto">
            <h1>
                <a href="./index.html" target="_self"
                    >Git és GitHub - Ágak egyesítése
                </a>
            </h1>
            <ol>
                <h4>Ágegyesítés - Merging:</h4>
                <li>
                    Egy adott adattár (<span class="kiemel">repository</span>)
                    esetén lehetőség van több ág (<span class="kiemel"
                        >branch</span
                    >) egyesítésére. Ezt nevezzük
                    <span class="kiemel">merging</span>-nek.
                </li>
                <li>
                    Nézzük a következő példát. A C0 állapotból,
                    pillanatfelvételből, véglegesítésből (<span class="kiemel"
                        >commit</span
                    >) eljutottunk a C2 állapotba a
                    <span class="kiemel">master</span> ágban.
                </li>
                <img src="./images/kep_58.png" />
                <li>
                    Ekkor létrehozzuk az <span class="kiemel">iss53</span> ágat
                    egyedi fejlesztésre. De előtte zárjuk le a
                    <span class="kiemel">master</span> ág minden véglegesítését,
                    azaz a munkakönyvtárat (<span class="kiemel"
                        >working directory</span
                    >) és a színpadot (<span class="kiemel">staging area</span>)
                    ürítsük ki!
                    <p class="kiemel">Ezt minden esetben tegyük meg!</p>
                    <p><span class="kod">git checkout -b iss53</span></p>
                    Ekkor a <span class="kiemel">HEAD</span> mutató átkerül erre
                    az ágra.
                </li>
                <img src="./images/kep_59.png" />
                <li>
                    Dolgozzunk ezen az ágon, véglegesítünk néhányat. Ebben az
                    esetben az állapot.
                </li>
                <img src="./images/kep_60.png" />
                <li>
                    Most hirtelen módosítani kell a
                    <span class="kiemel">master</span> ágat. Zárjuk le az
                    <span class="kiemel">iss53</span> ágat! Hozzunk létre egy
                    <span class="kiemel">hotfix</span> ágat, és hajtsuk végre a
                    módosításokat. Ekkor:
                </li>
                <img src="./images/kep_61.png" />
                <li>
                    Ha minden oké, akkor jön a lényeg. Egyesítsük a
                    <span class="kiemel">master</span> és
                    <span class="kiemel">hotfix</span> ágat. Ehhez lépjünk
                    vissza a <span class="kiemel">master</span> ágba.
                    <p><span class="kod">git checkout master</span>, majd</p>
                    <p><span class="kod">git merge hotfix</span></p>
                </li>
                <img src="./images/kep_62.png" />
                <li>
                    Látható, hogy a Git a
                    <span class="kiemel">HEAD</span> mutatót előre vitte (<span
                        class="kiemel"
                        >Fast-forward</span
                    >) a C4 véglegesítéshez. Töröljük a
                    <span class="kiemel">hotfix</span> ágat.
                    <p><span class="kod">git branch -d hotfix</span></p>
                </li>
                <img src="./images/kep_65.png" />
                <li>
                    Lépjünk vissza az <span class="kiemel">iss53</span> ágba és
                    folytassuk a megkezdett munkánk. Néhány véglegesítés után
                    szeretnénk összevonni a
                    <span class="kiemel">master</span> ággal.
                    <p><span class="kod">git checkout master</span>, majd</p>
                    <p><span class="kod">git merge iss53</span></p>
                </li>
                <li>
                    Ebben az esetben kicsit visszább kell menni mind a két ág
                    esetében, egészen a C2 állapotig, és onnan kezdeni az
                    egyesítést.
                </li>
                <img src="./images/kep_63.png" />
                <li>
                    <span class="kiemel"
                        >Három-utas egyesítés (three way commit)</span
                    >: ekkor a C2, C3 és C5 commit lesz használva, hogy
                    létrejöjjön az új állapot C6. Ha kell törölhetjük a
                    <span class="kiemel">iss53</span> ágat.
                    <p><span class="kod">git branch -d hotfix</span></p>
                </li>
                <img src="./images/kep_64.png" />
                <li>
                    Mi történik, ha konfliktus támad az egyesítés folyamán?
                    Például, ha a két különböző ágban ugyanazt az állományt
                    szerkesztettük. Ekkor a következőt kapjuk.
                </li>
                <img src="./images/kep_66.png" />
                <li>
                    A Git létrehoz egy egyesítő véglegesítést és vár a
                    konfliktus feloldására. Futassuk a
                    <span class="kod">git status</span> utasítást, hogy
                    megtudjuk az okot.
                </li>
                <img src="./images/kep_67.png" />
                <li>
                    Nyissuk meg a vitatott állomámyt és javítsuk ki a hibát.
                    Jegyzettömbben válasszuk ki a megfelelő lehetőséget, minden
                    mást töröljünk.:
                </li>
                <img src="./images/kep_68.png" />
                <li>
                    Visual Studio Code-ban válasszunk a fenti négy lehetőségből.
                </li>
                <img src="./images/kep_69.png" />
                <li>
                    Majd a szoksásos utasítások. Figyeljük meg a (<span
                        class="kiemel"
                        >master</span
                    >) és (<span class="kiemel">master|MERGING</span>)
                    váltakozást!
                </li>
                <img src="./images/kep_70.png" />
                <li>
                    Ha a konfliktusfeloldáshoz grafikus felületet akarunk
                    használni, akkor hasznos lehet a következő utasítás:
                    <p>
                        <span class="kod">git mergetool</span>, vagy ha még
                        nincs konfigurálva egy sem, akkor
                    </p>
                    <p><span class="kod">git mergetool --tool-help</span></p>
                    Leginkább javasolt az <span class="kiemel">opendiff</span>.
                    <p>
                        <span class="kod">git mergetool --tool=opendiff</span>
                    </p>
                </li>
                <img src="./images/kep_72.png" />
                <h4>Források:</h4>
                <p>
                    <a href="https://git-scm.com/"
                        ><span class="link">git</span></a
                    >
                </p>
                <p>
                    <a href="https://github.com/"
                        ><span class="link">github</span></a
                    >
                </p>
            </ol>
        </div>
    </body>
</html>
